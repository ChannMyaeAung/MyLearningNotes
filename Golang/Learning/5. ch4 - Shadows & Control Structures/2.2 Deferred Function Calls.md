# Deferred Function Calls (`defer`)

- The `defer` statement schedules a function call to be executed just before the surrounding function returns. 
- Deferred calls are executed in Last-In, First-Out (LIFO) order. 
- Commonly used for cleanup tasks like closing files or unlocking mutexes.

`test.txt`

```
This is the test!
```

```go
package main

import (
	"fmt"
	"os"
)

func readFile(filename string) {
	file, err := os.Open(filename)
	if err != nil {
		fmt.Println("Error opening: ", err)
		return
	}
	// defer file.Close() ensures the file is closed when readFile returns,
	// regardless of how it returns (normal exit or panic).
	defer file.Close()

	fmt.Println("File opened successfully (will be closed on exit)")
}

func main() {
	readFile("test.txt")
}

```

```sh
chan@CMA:~/Go_Programming/ch1$ make
go fmt ./...
go vet ./...
go build 
chan@CMA:~/Go_Programming/ch1$ ./hello_world
File opened successfully (will be closed on exit)
```

---

