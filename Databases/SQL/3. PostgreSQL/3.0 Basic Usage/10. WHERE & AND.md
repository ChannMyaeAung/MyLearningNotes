# PostgreSQL WHERE

- If we use  **column aliases** in the `SELECT` clause, we cannot use them in the `WHERE` clause.

```bash
dvdrental=# SELECT last_name, first_name
dvdrental-# FROM customer
dvdrental-# WHERE first_name = 'Jamie';
 last_name | first_name
-----------+------------
 Rice      | Jamie
 Waugh     | Jamie
(2 rows)

dvdrental=# SELECT last_name, first_name
dvdrental-# FROM customer
dvdrental-# WHERE first_name = 'Jamie'
dvdrental-# AND last_name = 'Rice';
 last_name | first_name
-----------+------------
 Rice      | Jamie
(1 row)

dvdrental=# SELECT first_name, last_name
dvdrental-# FROM customer
dvdrental-# WHERE last_name = 'Rodriguez'
dvdrental-# OR first_name = 'Adam';
 first_name | last_name
------------+-----------
 Laura      | Rodriguez
 Adam       | Gooch
(2 rows)

dvdrental=# SELECT first_name, last_name
dvdrental-# FROM customer
dvdrental-# WHERE first_name IN ('Ann', 'Anne', 'Annie');
 first_name | last_name
------------+-----------
 Ann        | Evans
 Anne       | Powell
 Annie      | Russell
(3 rows)


dvdrental=# SELECT first_name, last_name
dvdrental-# FROM customer
dvdrental-# WHERE first_name LIKE 'Ann%';
 first_name | last_name
------------+-----------
 Anna       | Hill
 Ann        | Evans
 Anne       | Powell
 Annie      | Russell
 Annette    | Olson
(5 rows)
```



## Using the WHERE clause with the BETWEEN operator example

```bash
dvdrental=# SELECT first_name, LENGTH(first_name) name_length
dvdrental-# FROM customer
dvdrental-# WHERE
dvdrental-# first_name LIKE 'A%'
dvdrental-# AND LENGTH(first_name) BETWEEN 3 AND 5
dvdrental-# ORDER BY name_length;
 first_name | name_length
------------+-------------
 Amy        |           3
 Ann        |           3
 Ana        |           3
 Andy       |           4
 Anna       |           4
 Anne       |           4
 Alma       |           4
 Adam       |           4
 Alan       |           4
 Alex       |           4
 Angel      |           5
 Agnes      |           5
 Andre      |           5
 Aaron      |           5
 Allan      |           5
 Allen      |           5
 Alice      |           5
 Alvin      |           5
 Anita      |           5
 Amber      |           5
 April      |           5
 Annie      |           5
(22 rows)
```

## Not equal (<>) operator example

```bash
dvdrental=# SELECT first_name, last_name
dvdrental-# FROM customer
dvdrental-# WHERE
dvdrental-# first_name LIKE 'Bra%'
dvdrental-# AND last_name <> 'Motley';
 first_name | last_name
------------+-----------
 Brandy     | Graves
 Brandon    | Huey
 Brad       | Mccurdy
(3 rows)
```

---

# PostgreSQL AND Operator

- In PostgreSQL, a boolean value can have one of three values: `true`, `false`, and `null`.
- PostgreSQL uses `true`,  `'t`', `'true'`, `'y'`, `'yes'`, `'1'` to represent `true` and `false`, `'f'`, `'false'`, `'n'`, `'no'`, and `'0'` to represent `false`.

```bash
dvdrental=# SELECT 1 = 1 AS result;
 result
--------
 t
(1 row)
```

- The `AND` operator returns `true` only if both expressions are `true`. It returns `false` if one of the expressions is `false`. Otherwise, it returns `null`.

```bash
dvdrental=# SELECT true AND null AS result;
 result
--------
 null
(1 row)

dvdrental=# SELECT false AND false AS result;
 result
--------
 f
(1 row)


dvdrental=# SELECT false AND null AS result;
 result
--------
 f
(1 row)

dvdrental=# SELECT null AND null AS result;
 result
--------
 null
(1 row)
```

## Using AND in the WHERE clause

```postgresql
SELECT
	TITLE,
	LENGTH,
	RENTAL_RATE
FROM
	FILM
WHERE
	LENGTH > 180
	AND RENTAL_RATE < 1;
```

![AND_in_WHERE_Result_1](Imgs\AND_in_WHERE_Result_1.png)

## OR in the WHERE clause

```postgresql
SELECT
	TITLE,
	RENTAL_RATE
FROM
	FILM
WHERE
	RENTAL_RATE = 0.99
	OR RENTAL_RATE = 2.99;
```

![OR_in_WHERE_Result_1](Imgs\OR_in_WHERE_Result_1.png)